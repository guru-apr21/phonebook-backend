(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,t,n){e.exports=n(43)},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(17),c=n.n(u),o=n(18),l=n(3),i=function(e){var t=e.filter,n=e.handleChangeFilter;return a.a.createElement("div",null,"filter shown with"," ",a.a.createElement("input",{value:t,onChange:n}))},s=function(e){var t=e.addPerson,n=e.newName,r=e.handleChangeName,u=e.newNumber,c=e.handleChangeNumber;return a.a.createElement("div",null,a.a.createElement("form",{onSubmit:t},a.a.createElement("div",null,"name:"," ",a.a.createElement("input",{value:n,onChange:r,placeholder:"Enter your name here...",required:!0})),a.a.createElement("div",null,"phone:"," ",a.a.createElement("input",{value:u,onChange:c,placeholder:"Enter your Phone no here...",required:!0})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add"))))},m=function(e){var t=e.newPersons,n=e.handleDelete;return a.a.createElement("div",null,t.length>0?t.map((function(e){return a.a.createElement("p",{key:e.id},e.name," ",e.number," ",a.a.createElement("button",{onClick:function(){return n(e)}},"Delete"))})):a.a.createElement("p",null,"No such contacts"))},f=n(2),d=n.n(f),h=n(5),p=n(6),b=n.n(p),v="/api/persons",w={getAll:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(v);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post(v,t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Delete ".concat(t.name,"?"))){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b.a.delete("".concat(v,"/").concat(t.id));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("".concat(t.name," is already added to the phonebook,replace the old one with the new one?"))){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b.a.put("".concat(v,"/").concat(t.id),n);case 4:return r=e.sent,a=r.data,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},E=function(e){var t=e.message,n=e.result;if(null===t)return null;var r=n?"#44bd32":"#ff3f34";return a.a.createElement("div",{className:"error",style:{color:r}},t)},g=function(){Object(r.useEffect)((function(){w.getAll().then((function(e){return u(e)}))}),[]);var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],u=t[1],c=Object(r.useState)(""),f=Object(l.a)(c,2),d=f[0],h=f[1],p=Object(r.useState)(""),b=Object(l.a)(p,2),v=b[0],g=b[1],j=Object(r.useState)(""),O=Object(l.a)(j,2),k=O[0],C=O[1],y=Object(r.useState)(null),x=Object(l.a)(y,2),N=x[0],S=x[1],P=Object(r.useState)(!0),D=Object(l.a)(P,2),A=D[0],L=D[1],q=n.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())}));return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(E,{message:N,result:A}),a.a.createElement(i,{filter:k,handleChangeFilter:function(e){return C(e.target.value)}}),a.a.createElement("h2",null,"Add a new"),a.a.createElement(s,{newName:d,newNumber:v,addPerson:function(e){e.preventDefault();n.find((function(e){return e.name.toLowerCase()===d.toLowerCase()}));var t={name:d,number:v};w.create(t).then((function(e){u([].concat(Object(o.a)(n),[e])),S("Added ".concat(e.name)),setTimeout((function(){S(null)}),3e3),h(""),g("")}))},handleChangeName:function(e){return h(e.target.value)},handleChangeNumber:function(e){return g(e.target.value)}}),a.a.createElement("h2",null,"Numbers"),a.a.createElement(m,{newPersons:q,handleDelete:function(e){w.remove(e).then((function(t){return u(n.filter((function(t){return t.id!==e.id})))})).catch((function(t){L(!1),S("".concat(e.name," is already removed from the server")),setTimeout((function(){S(null)}),3e3),u(n.filter((function(t){return t.id!==e.id})))}))}}))};n(42);c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.0970fc0d.chunk.js.map