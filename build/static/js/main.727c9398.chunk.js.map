{"version":3,"sources":["components/Filter.jsx","components/PersonForm.jsx","components/Persons.jsx","services/phonebook.js","components/Notification.jsx","App.js","index.js"],"names":["Filter","filter","handleChangeFilter","value","onChange","PersonForm","addPerson","newName","handleChangeName","newNumber","handleChangeNumber","onSubmit","placeholder","required","type","Persons","newPersons","handleDelete","length","map","person","key","id","name","number","onClick","baseUrl","getAll","a","axios","get","data","create","personObject","post","remove","window","confirm","delete","update","put","Notification","message","result","color","className","style","App","useEffect","service","then","initialPersons","setPersons","useState","persons","setNewName","setNewNumber","setFilter","setMessage","setResult","toLowerCase","includes","e","target","preventDefault","nameExists","find","returnedObject","p","setTimeout","newPerson","res","catch","err","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.727c9398.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ filter, handleChangeFilter }) => {\n  return (\n    <div>\n      filter shown with{\" \"}\n      <input value={filter} onChange={handleChangeFilter}></input>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleChangeName,\n  newNumber,\n  handleChangeNumber,\n}) => {\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div>\n          name:{\" \"}\n          <input\n            value={newName}\n            onChange={handleChangeName}\n            placeholder=\"Enter your name here...\"\n            required={true}\n          />\n        </div>\n        <div>\n          phone:{\" \"}\n          <input\n            value={newNumber}\n            onChange={handleChangeNumber}\n            placeholder=\"Enter your Phone no here...\"\n            required={true}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nexport const Persons = ({ newPersons, handleDelete }) => {\n  return (\n    <div>\n      {newPersons.length > 0 ? (\n        newPersons.map((person) => (\n          <p key={person.id}>\n            {person.name} {person.number}{\" \"}\n            <button onClick={() => handleDelete(person)}>Delete</button>\n          </p>\n        ))\n      ) : (\n        <p>No such contacts</p>\n      )}\n    </div>\n  );\n};\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = async () => {\n  const { data } = await axios.get(baseUrl);\n  return data;\n};\n\nconst create = async (personObject) => {\n  const { data } = await axios.post(baseUrl, personObject);\n  return data;\n};\n\nconst remove = async (person) => {\n  if (!window.confirm(`Delete ${person.name}?`)) return;\n  const { data } = await axios.delete(`${baseUrl}/${person.id}`);\n  return data;\n};\n\nconst update = async (person, personObject) => {\n  if (\n    !window.confirm(\n      `${person.name} is already added to the phonebook,replace the old one with the new one?`\n    )\n  )\n    return;\n\n  const { data } = await axios.put(`${baseUrl}/${person.id}`, personObject);\n  return data;\n};\n\nexport default { getAll, create, remove, update };\n","import React from \"react\";\n\nconst Notification = ({ message, result }) => {\n  if (message === null) return null;\n  const color = result ? \"#44bd32\" : \"#ff3f34\";\n  return (\n    <div className=\"error\" style={{ color: color }}>\n      {message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport { Persons } from \"./components/Persons\";\nimport service from \"./services/phonebook\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  useEffect(() => {\n    service.getAll().then((initialPersons) => setPersons(initialPersons));\n  }, []);\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [result, setResult] = useState(true);\n\n  const handleChangeName = (e) => setNewName(e.target.value);\n  const handleChangeNumber = (e) => setNewNumber(e.target.value);\n  const handleChangeFilter = (e) => setFilter(e.target.value);\n  const handleDelete = (person) => {\n    service\n      .remove(person)\n      .then((res) => setPersons(persons.filter((p) => p.id !== person.id)))\n      .catch((err) => {\n        setResult(false);\n        setMessage(`${person.name} is already removed from the server`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 3000);\n        setPersons(persons.filter((p) => p.id !== person.id));\n      });\n  };\n\n  const addPerson = (e) => {\n    e.preventDefault();\n    const nameExists = persons.find(\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\n    );\n    if (nameExists) {\n      service\n        .update(nameExists, { ...nameExists, number: newNumber })\n        .then((returnedObject) => {\n          setPersons(\n            persons.map((p) =>\n              p.id === returnedObject.id ? returnedObject : p\n            )\n          );\n          setResult(true);\n          setMessage(`Updated ${nameExists.name}'s number`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 3000);\n          setNewNumber(\"\");\n          setNewName(\"\");\n        });\n      return;\n    }\n\n    const newPerson = { name: newName, number: newNumber };\n\n    service.create(newPerson).then((returnedObject) => {\n      setPersons([...persons, returnedObject]);\n      setMessage(`Added ${returnedObject.name}`);\n      setTimeout(() => {\n        setMessage(null);\n      }, 3000);\n      setNewName(\"\");\n      setNewNumber(\"\");\n    });\n  };\n\n  const newPersons = persons.filter((person) =>\n    person.name.toLowerCase().includes(filter.toLowerCase())\n  );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} result={result}></Notification>\n      <Filter filter={filter} handleChangeFilter={handleChangeFilter}></Filter>\n      <h2>Add a new</h2>\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        addPerson={addPerson}\n        handleChangeName={handleChangeName}\n        handleChangeNumber={handleChangeNumber}\n      ></PersonForm>\n      <h2>Numbers</h2>\n      <Persons newPersons={newPersons} handleDelete={handleDelete}></Persons>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}